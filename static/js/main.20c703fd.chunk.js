(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{106:function(e,t,a){e.exports=a(155)},111:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),c=a.n(i),o=a(12),l=a(34),s=a(20),m=(a(111),a(203)),u=a(93),d=a.n(u),p=a(83),f=a.n(p),g=a(15),h=a.n(g),b=a(7),E=a(37),v=a(85),O=a(8),j={authenticated:!1,loading:!1,credentials:{},notifications:[]},y={loading:!1,errors:{}},x={listings:null,listing:null,projects:null,outboundProjects:null,loading:!1},N=[v.a],S=Object(E.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(O.a)({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return j;case"SET_USER":return Object(O.a)({},e,{authenticated:!0,loading:!1,credentials:t.payload.credentials,notifications:t.payload.notifications});case"LOADING_USER":return Object(O.a)({},e,{loading:!0});case"MARK_NOTIFICATIONS_READ":var a=Object(O.a)({},e);return a.notifications.forEach((function(e){return e.read=!0})),Object(O.a)({},a);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return Object(O.a)({},e,{loading:!0});case"SET_LISTINGS":return Object(O.a)({},e,{listings:t.payload,loading:!1});case"SET_LISTING":return Object(O.a)({},e,{listing:t.payload,loading:!1});case"SET_PROJECTS":return Object(O.a)({},e,{projects:t.payload.replies,loading:!1});case"SET_OUTBOUND_PROJECTS":return Object(O.a)({},e,{outboundProjects:t.payload.replies,loading:!1});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ERRORS":return Object(O.a)({},e,{loading:!1,errors:n});case"CLEAR_ERRORS":return Object(O.a)({},e,{loading:!1,errors:{}});case"LOADING_UI":return Object(O.a)({},e,{loading:!0});default:return e}}}),T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d,w=Object(E.e)(S,{},T(E.a.apply(void 0,N))),I=function(e){return function(t){localStorage.removeItem("FBIdToken"),delete h.a.defaults.headers.common.Authorization,t({type:"SET_UNAUTHENTICATED"}),e.push("/")}},C=function(){return function(e){e({type:"LOADING_USER"}),h.a.get("/user").then((function(t){e({type:"SET_USER",payload:t.data})})).catch((function(e){return console.log(e)}))}},R=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),h.a.defaults.headers.common.Authorization=t},A=a(5),L=a.n(A),_=a(31),W=a(187),D=a(96),F=a(156),k=a(87),U=a.n(k),B=a(88),P=a.n(B),G=a(89),H=a.n(G),J=a(190),q={paper:{padding:20,maxWidth:400},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"black"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}};function M(e){var t=Object(_.a)(),a=Object(W.a)(Object(O.a)({},t.spreadThis,{},q))(),i=e.user;return i?r.a.createElement(D.a,{className:a.paper},r.a.createElement("div",{className:a.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:i.imageUrl,alt:"profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(J.a,{component:o.b,to:"/users/".concat(i.handle),color:"secondary",variant:"h5"},i.handle),r.a.createElement("hr",null),i.bio&&r.a.createElement(F.a,{variant:"body2"},i.bio),r.a.createElement("hr",null),i.location&&r.a.createElement(n.Fragment,null,r.a.createElement(U.a,{color:"secondary"}),r.a.createElement("span",null,i.location),r.a.createElement("hr",null)),i.website&&r.a.createElement(n.Fragment,null,r.a.createElement(P.a,{color:"secondary"}),r.a.createElement("a",{href:i.website,target:"_blank",rel:"noopener noreferrer"},i.website),r.a.createElement("hr",null)),r.a.createElement(H.a,{color:"secondary"})," ",r.a.createElement("span",null,"Joined ",i.createdAt)))):r.a.createElement("p",null,"loading...")}M.propTypes={user:L.a.object};var V=M,z=a(193),$=a(191),K=a(192),X={root:{width:"90%",marginRight:"auto",marginLeft:"auto"},formContainer:{width:"400px"},flexContainer:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},project:{margin:"10px"},profileImage:{width:50,height:50,objectFit:"cover",maxWidth:"100%",borderRadius:"50%",marginLeft:"10px",cursor:"pointer"},cardItem:{marginTop:"auto",marginBottom:"auto"},statusButton:{marginTop:"10px",marginLeft:"10px"},accept:{background:"#4aa863",color:"white"},decline:{background:"#e64f49",color:"white"}};var Y=function(e){var t=Object(_.a)(),a=Object(W.a)(Object(O.a)({},t.spreadThis,{},X))(),n=e.project;return r.a.createElement($.a,{className:a.project},r.a.createElement(K.a,{className:a.flexContainer},r.a.createElement(F.a,{variant:"h6",className:a.cardItem},n.name),r.a.createElement(F.a,{variant:"body1",className:a.cardItem},"Deadline: ".concat(n.deadline)),e.outbound?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(z.a,{variant:"contained",disabled:"open"!==n.status,className:"".concat(a.statusButton," ").concat(a.accept),onClick:function(){return e.handleConfirm(n.replyId,"accepted")}},"Accept"),r.a.createElement(z.a,{variant:"contained",disabled:"open"!==n.status,className:"".concat(a.statusButton," ").concat(a.decline),onClick:function(){return e.handleConfirm(n.replyId,"declined")}},"Decline")),r.a.createElement("img",{src:n.userImage,alt:"profile",className:a.profileImage})))},Q=function(e){return function(t){t({type:"SET_LISTING",payload:null}),h.a.get("/offer/".concat(e)).then((function(e){t({type:"SET_LISTING",payload:e.data})})).catch((function(e){t({type:"SET_LISTING",payload:null})}))}},Z={root:{width:"90%",marginRight:"auto",marginLeft:"auto"},formContainer:{width:"400px"},flexContainer:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},heading:{marginTop:"150px",maxWidth:"450px",marginLeft:"auto",marginRight:"auto"},subHeading:{marginTop:"20px",maxWidth:"450px",marginLeft:"auto",marginRight:"auto"},button:{background:"linear-gradient(45deg, #FE6B8B 30%, #ff4081 90%)",marginTop:"40px",marginLeft:"42%",marginRight:"42%"}};var ee=function(){var e=Object(_.a)(),t=Object(W.a)(Object(O.a)({},e.spreadThis,{},Z))(),a=Object(b.c)((function(e){return e.user})),i=(a.credentials,Object(b.c)((function(e){return e.data.projects}))),c=Object(b.c)((function(e){return e.data.outboundProjects})),l=Object(b.b)();function s(e,t){l(function(e,t){return function(a){h.a.post("/reply/".concat(e),t).then((function(e){a(C())})).catch((function(e){return console.log(e)}))}}(e,{status:t}))}return Object(n.useEffect)((function(){l((function(e){e({type:"LOADING_DATA"}),h.a.get("/replies").then((function(t){e({type:"SET_PROJECTS",payload:t.data})})).catch((function(e){return console.log(e)}))})),l((function(e){e({type:"LOADING_DATA"}),h.a.get("/projects").then((function(t){e({type:"SET_OUTBOUND_PROJECTS",payload:t.data})})).catch((function(e){return console.log(e)}))}))}),[l]),r.a.createElement("div",null,a.authenticated?i?r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{variant:"h5"},"Projects"),r.a.createElement("div",{className:t.flexContainer},r.a.createElement(z.a,null,"Pending"),r.a.createElement(z.a,null,"active"),r.a.createElement(z.a,null,"declined")),r.a.createElement("hr",{className:t.hr}),i.map((function(e){return r.a.createElement(Y,{key:e.replyId,project:e,handleConfirm:s,outbound:!1})})),r.a.createElement(F.a,{variant:"h5"},"Requested Projects"),r.a.createElement("hr",{className:t.hr}),c?c.map((function(e){return r.a.createElement(Y,{key:e.replyId,project:e,outbound:!0})})):r.a.createElement("div",null,"Loading...")):r.a.createElement("div",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{variant:"h4",align:"center",className:"".concat(t.nunitoLight," ").concat(t.heading)},"Commission app helps you find and advertise art commissions."),r.a.createElement(F.a,{variant:"h5",align:"center",className:"".concat(t.nunitoLight," ").concat(t.subHeading)},"Create listings with examples of your work and get requests from clients or find the right creator for a custom commission."),r.a.createElement(z.a,{variant:"contained",component:o.b,to:"/login",color:"secondary",className:t.button},"start advertising")))},te=a(10),ae=a(204),ne=a(195);var re=function(){var e=Object(l.g)(),t=Object(_.a)(),a=Object(W.a)(Object(O.a)({},t.spreadThis))(),i=Object(b.c)((function(e){return e.ui})),c=i.loading,s=i.errors,m=Object(b.b)(),u=function(e,t){m(function(e,t){return function(a){a({type:"LOADING_UI"}),h.a.post("/signup",e).then((function(e){R(e.data.token),a(C()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}(e,t))},d=Object(n.useState)(""),p=Object(te.a)(d,2),f=p[0],g=p[1],E=Object(n.useState)(""),v=Object(te.a)(E,2),j=v[0],y=v[1],x=Object(n.useState)(""),N=Object(te.a)(x,2),S=N[0],T=N[1],w=Object(n.useState)(""),I=Object(te.a)(w,2),A=I[0],L=I[1];function D(e){"email"===e.target.name?g(e.target.value):"password"===e.target.name?y(e.target.value):"confirmPassword"===e.target.name?T(e.target.value):"handle"===e.target.name&&L(e.target.value)}return r.a.createElement("div",{className:a.formContainer},r.a.createElement(F.a,{variant:"h3",className:a.title},"Signup"),r.a.createElement("form",{noValidate:!0,onSubmit:function(t){t.preventDefault(),u({email:f,password:j,confirmPassword:S,handle:A},e)}},r.a.createElement(ae.a,{variant:"outlined",name:"email",type:"email",label:"Email Address",className:a.textField,helperText:s.email,error:!!s.email,value:f,onChange:D,fullWidth:!0}),r.a.createElement(ae.a,{variant:"outlined",name:"password",type:"password",label:"Password",className:a.textField,helperText:s.password,error:!!s.password,value:j,onChange:D,fullWidth:!0}),r.a.createElement(ae.a,{variant:"outlined",name:"confirmPassword",type:"password",label:"Confirm Password",className:a.textField,helperText:s.confirmPassword,error:!!s.confirmPassword,value:S,onChange:D,fullWidth:!0}),r.a.createElement(ae.a,{variant:"outlined",name:"handle",type:"text",label:"Handle",className:a.textField,helperText:s.handle,error:!!s.handle,value:A,onChange:D,fullWidth:!0}),s.general&&r.a.createElement(F.a,{variant:"body2",className:a.errorMessage},s.general),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"secondary",className:a.button,fullWidth:!0,disabled:c},c?r.a.createElement(ne.a,{className:a.progress}):"Sign up"),r.a.createElement(z.a,{type:"submit",variant:"outlined",className:a.signup,fullWidth:!0,component:o.b,to:"/login"},"Log in")))};var ie=function(){var e=Object(l.g)(),t=Object(_.a)(),a=Object(W.a)(Object(O.a)({},t.spreadThis))(),i=Object(b.c)((function(e){return e.ui})),c=i.loading,s=i.errors,m=Object(b.b)(),u=function(e,t){m(function(e,t){return function(a){a({type:"LOADING_UI"}),h.a.post("/login",e).then((function(e){R(e.data.token),a(C()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}(e,t))},d=Object(n.useState)(""),p=Object(te.a)(d,2),f=p[0],g=p[1],E=Object(n.useState)(""),v=Object(te.a)(E,2),j=v[0],y=v[1];function x(e){"email"===e.target.name?g(e.target.value):y(e.target.value)}return r.a.createElement("div",{className:a.formContainer},r.a.createElement(F.a,{variant:"h3",className:a.title},"Login"),r.a.createElement("form",{noValidate:!0,onSubmit:function(t){t.preventDefault(),u({email:f,password:j},e)}},r.a.createElement(ae.a,{variant:"outlined",name:"email",type:"email",label:"Email Address",className:a.textField,helperText:s.email,error:!!s.email,value:f,onChange:x,fullWidth:!0}),r.a.createElement(ae.a,{variant:"outlined",name:"password",type:"password",label:"Password",className:a.textField,helperText:s.password,error:!!s.password,value:j,onChange:x,fullWidth:!0}),s.general&&r.a.createElement(F.a,{variant:"body2",className:a.errorMessage},s.general),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"secondary",className:a.button,fullWidth:!0,disabled:c},c?r.a.createElement(ne.a,{className:a.progress}):"Log in"),r.a.createElement(z.a,{type:"submit",variant:"outlined",className:a.signup,fullWidth:!0,component:o.b,to:"/signup"},"Sign up")))},ce=a(196),oe=a(198),le=a(197),se={root:{width:335,margin:10},media:{height:"200px"},priceContainer:{display:"flex",flexDirection:"column",alignItems:"flex-end"}};var me=function(e){var t=Object(_.a)(),a=Object(W.a)(Object(O.a)({},t.spreadThis,{},se))(),n=e.thumbnail,i=e.title,c=e.description;return r.a.createElement($.a,{className:a.root},r.a.createElement(ce.a,{component:o.b,to:"/listings/".concat(e.listing)},r.a.createElement(le.a,{alt:"Example image",className:a.media,image:n,title:"Example image"}),r.a.createElement(K.a,null,r.a.createElement(F.a,{variant:"h6"},i),r.a.createElement(F.a,{noWrap:!0,variant:"body2",color:"textSecondary"},c))),r.a.createElement(oe.a,{className:a.priceContainer},r.a.createElement(z.a,{size:"small",color:"secondary",variant:"contained",component:o.b,to:"/listings/".concat(e.listing)},"$".concat(e.price))))},ue=Object(W.a)({root:{display:"flex",width:"90%",marginRight:"auto",marginLeft:"auto",justifyContent:"space-between",flexWrap:"wrap"}});var de=function(){var e=ue(),t=Object(b.b)(),a=Object(b.c)((function(e){return e.data.listings}));return Object(n.useEffect)((function(){t((function(e){e({type:"LOADING_DATA"}),h.a.get("/offers").then((function(t){e({type:"SET_LISTINGS",payload:t.data})})).catch((function(t){e({type:"SET_LISTINGS",payload:[]})}))}))}),[t]),r.a.createElement("div",{className:e.root},a?a.map((function(e){return r.a.createElement(me,{key:e.offerId,thumbnail:e.imageUrl,title:e.title,description:e.description,price:e.price,listing:e.offerId})})):r.a.createElement("div",null,"Loading..."))},pe={root:{width:"90%",marginRight:"auto",marginLeft:"auto"},imageContainer:{position:"absolute",overflow:"hidden",left:"0%",width:"100%",height:"660px",display:"flex"},exampleImage:{height:"640px",left:"50%",marginTop:"10px",marginRight:"auto",marginLeft:"auto",zIndex:"1"},blurryBackground:{position:"absolute",objectFit:"cover",left:"-10%",width:"120%",height:"680px",filter:"blur(8px)",marginTop:"-10px"},imageSpacing:{width:"100%",height:"680px"},contentContainer:{display:"flex",flexWrap:"wrap"},contentItem:{marginRight:"10px",marginBottom:"10px",maxWidth:"360px",minWidth:"300px"}};var fe=function(e){var t=Object(_.a)(),a=Object(W.a)(Object(O.a)({},t.spreadThis,{},pe))(),i=e.match.params.id,c=Object(b.b)(),s=Object(l.g)(),m=Object(b.c)((function(e){return e.data.listing})),u=Object(b.c)((function(e){return e.user})).credentials.handle;return Object(n.useEffect)((function(){c(Q(i))}),[c,i]),r.a.createElement("div",{className:a.root},m?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:a.imageContainer},r.a.createElement("img",{src:m.imageUrl,alt:"profile",className:a.blurryBackground}),r.a.createElement("img",{src:m.imageUrl,alt:"profile",className:a.exampleImage})),r.a.createElement("div",{className:a.imageSpacing}),r.a.createElement(F.a,{variant:"h4"},m.title),r.a.createElement("hr",{className:a.hr}),r.a.createElement("div",{className:a.contentContainer},r.a.createElement($.a,{className:a.contentItem},r.a.createElement(K.a,null,r.a.createElement(F.a,{variant:"h6"},"Description"),r.a.createElement(F.a,{variant:"body1"},"".concat(m.description)))),r.a.createElement("div",{className:a.contentItem},r.a.createElement(V,{user:m.author})),r.a.createElement($.a,{className:a.contentItem},r.a.createElement(K.a,null,r.a.createElement(z.a,{variant:"contained",color:"secondary",component:o.b,to:"/projects/new/".concat(m.offerId),fullWidth:!0},r.a.createElement(F.a,{variant:"body1"},"Request Project")),m.handle===u?r.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0},r.a.createElement(F.a,{onClick:function(){c(function(e,t){return function(a){h.a.delete("/offer/".concat(e)).then((function(e){a(C()),t.push("/")})).catch((function(e){return console.log(e)}))}}(i,s))},variant:"body1"},"Delete Listing")):r.a.createElement("div",null),r.a.createElement("hr",{className:a.hr}),r.a.createElement(F.a,{variant:"body1"},"Starting at"),r.a.createElement(F.a,{variant:"h4"},"$".concat(m.price)))))):r.a.createElement("div",null,"loading..."))},ge=a(206),he=a(91),be=a.n(he),Ee={hr:{borderTop:"1px solid #dbdbdb"},hrInvis:{border:"none"},paper:{margin:"10px 0 10px 0",padding:20,maxWidth:400,display:"flex",justifyContent:"space-between"},profileImage:{width:100,height:100,objectFit:"cover",maxWidth:"100%",borderRadius:"10%"},button:{margin:"auto 0 auto 0"},bold:{fontWeight:"500"}};var ve=function(){var e=Object(_.a)(),t=Object(W.a)(Object(O.a)({},e.spreadThis,{},Ee))(),a=Object(b.b)(),i=Object(b.c)((function(e){return e.user})).credentials,c=Object(n.useState)(""),o=Object(te.a)(c,2),l=o[0],s=o[1],m=Object(n.useState)(""),u=Object(te.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(""),g=Object(te.a)(f,2),E=g[0],v=g[1];function j(e){"bio"===e.target.name?s(e.target.value):"website"===e.target.name?p(e.target.value):"location"===e.target.name&&v(e.target.value)}return Object(n.useEffect)((function(){s(i.bio?i.bio:""),p(i.website?i.website:""),v(i.location?i.location:"")}),[]),r.a.createElement("div",{className:t.formContainer},r.a.createElement(F.a,{variant:"h4",className:t.title},"Profile Details"),r.a.createElement("hr",{className:t.hr}),r.a.createElement(F.a,{variant:"h5",align:"left",className:t.title},"Profile Image"),r.a.createElement(D.a,{className:t.paper},r.a.createElement("img",{src:i.imageUrl,alt:"profile",className:t.profileImage}),r.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:function(e){var t=e.target.files[0],n=new FormData;n.append("image",t,t.name),a(function(e){return function(t){t({type:"LOADING_USER"}),h.a.post("/user/image",e).then((function(){t(C())})).catch((function(e){return console.log(e)}))}}(n))}}),r.a.createElement(ge.a,{title:"Upload a new profile image.\n Square images work best.",placement:"top"},r.a.createElement(z.a,{className:t.button,startIcon:r.a.createElement(be.a,null),onClick:function(){document.getElementById("imageInput").click()}},"Upload image"))),r.a.createElement(F.a,{variant:"h5",align:"left",className:t.title},"Bio"),r.a.createElement(ae.a,{variant:"outlined",name:"bio",type:"text",label:"Add your bio",className:t.textField,value:l,multiline:!0,rows:"3",onChange:j,fullWidth:!0}),r.a.createElement(F.a,{variant:"h5",align:"left",className:t.title},"Website"),r.a.createElement(ae.a,{variant:"outlined",name:"website",type:"text",label:"Add your website",className:t.textField,value:d,onChange:j,fullWidth:!0}),r.a.createElement(F.a,{variant:"h5",align:"left",className:t.title},"Location"),r.a.createElement(ae.a,{variant:"outlined",name:"location",type:"text",label:"Add your location",className:t.textField,value:E,onChange:j,fullWidth:!0}),r.a.createElement("hr",{className:t.hrInvis}),r.a.createElement(z.a,{variant:"contained",color:"secondary",className:t.button,onClick:function(e){var t;a((t={bio:l,website:d,location:E},function(e){e({type:"LOADING_USER"}),h.a.post("/user",t).then((function(){e(C())})).catch((function(e){return console.log(e)}))}))},fullWidth:!0},"Submit"))};var Oe=function(){var e=Object(_.a)(),t=Object(W.a)(Object(O.a)({},e.spreadThis))(),a=Object(n.useState)(""),i=Object(te.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(""),s=Object(te.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(""),p=Object(te.a)(d,2),f=p[0],g=p[1],E=Object(n.useState)(null),v=Object(te.a)(E,2),j=v[0],y=v[1],x=Object(b.b)();function N(e){"description"===e.target.name?o(e.target.value):"title"===e.target.name?u(e.target.value):"price"===e.target.name&&g(e.target.value)}return r.a.createElement("div",{className:t.formContainer},r.a.createElement(F.a,{variant:"h3",className:t.title},"Create Listing"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",j,j.name),t.append("description",c),t.append("title",m),t.append("price",f),x(function(e){return function(t){h.a.post("/offer",e).then((function(){t(C())})).catch((function(e){return console.log(e)}))}}(t))}},r.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:function(e){y(e.target.files[0])}}),r.a.createElement(z.a,{className:t.button,onClick:function(){document.getElementById("imageInput").click()}},"Upload image"),r.a.createElement(ae.a,{variant:"outlined",name:"title",type:"text",label:"Title",className:t.textField,value:m,onChange:N,fullWidth:!0}),r.a.createElement(ae.a,{variant:"outlined",name:"description",type:"text",label:"Description",className:t.textField,value:c,onChange:N,fullWidth:!0}),r.a.createElement(ae.a,{variant:"outlined",name:"price",type:"text",label:"Price",className:t.textField,value:f,onChange:N,fullWidth:!0}),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"secondary",className:t.button,fullWidth:!0},"Submit")))},je={root:{width:"90%",marginRight:"auto",marginLeft:"auto"},formContainer:{width:"400px"},flexContainer:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}};var ye=function(e){var t=Object(l.g)(),a=e.match.params.id,i=Object(_.a)(),c=Object(W.a)(Object(O.a)({},i.spreadThis,{},je))(),o=Object(b.b)(),s=Object(b.c)((function(e){return e.data.listing})),m=Object(n.useState)(""),u=Object(te.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(""),g=Object(te.a)(f,2),E=g[0],v=g[1],j=Object(n.useState)(""),y=Object(te.a)(j,2),x=y[0],N=y[1];function S(e){"description"===e.target.name?p(e.target.value):"name"===e.target.name?v(e.target.value):"deadline"===e.target.name&&N(e.target.value)}return Object(n.useEffect)((function(){o(Q(a))}),[o,a]),r.a.createElement("div",{className:c.root},s?r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{variant:"h3"},"New ".concat(s.title," project")),r.a.createElement("hr",{className:c.hr}),r.a.createElement("div",{className:c.flexContainer},r.a.createElement("div",{className:c.formContainer},r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var n={};n.description=d,n.name=E,n.deadline=x,o(function(e,t,a){return function(n){n({type:"LOADING_DATA"}),h.a.post("/offer/".concat(e,"/reply"),a).then((function(e){n(C()),t.push("/")})).catch((function(e){return n({type:"SET_ERRORS",payload:e.response.data})}))}}(a,t,n))}},r.a.createElement(ae.a,{variant:"outlined",name:"name",type:"text",label:"Project name",className:c.textField,value:E,onChange:S,fullWidth:!0}),r.a.createElement(ae.a,{variant:"outlined",name:"description",type:"text",label:"Description",multiline:!0,rows:"3",className:c.textField,value:d,onChange:S,fullWidth:!0}),r.a.createElement(ae.a,{variant:"outlined",name:"deadline",type:"text",label:"Deadline",className:c.textField,value:x,onChange:S,fullWidth:!0}),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"secondary",className:c.button,fullWidth:!0},"Request project"))),r.a.createElement(me,{thumbnail:s.imageUrl,title:s.title,description:s.description,price:s.price,listing:s.offerId}))):r.a.createElement("div",null,"Loading..."))},xe=a(63),Ne=a.n(xe),Se=a(92),Te=a.n(Se),we=a(200),Ie=a(94),Ce=a(207),Re=a(199),Ae=a(57),Le=a.n(Ae);var _e=function(){var e,t=Object(n.useState)(null),a=Object(te.a)(t,2),i=a[0],c=a[1],l=Object(n.useState)(!1),s=Object(te.a)(l,2),m=s[0],u=s[1],d=Object(b.c)((function(e){return e.user.notifications})),p=Object(b.b)();if(Ne.a.extend(Te.a),d&&d.length>0){var f=d.filter((function(e){return!1===e.read})).length;e=f>0?r.a.createElement(Re.a,{badgeContent:f,color:"secondary"},r.a.createElement(Le.a,{color:"inherit"})):r.a.createElement(Le.a,{color:"inherit"})}else e=r.a.createElement(Le.a,{color:"inherit"});var g=d&&d.length>0?d.map((function(e){var t="reply"===e.type?"replied to your offer":"updated the status of your requested project",a=Ne()(e.createdAt).fromNow(),n="reply"===e.type?"/listings/".concat(e.offerId):"/";return r.a.createElement(Ce.a,{key:e.notificationId,onClick:E,component:o.b,to:n},"".concat(e.sender," ").concat(t," ").concat(a))})):r.a.createElement(Ce.a,{onClick:E},"You have no notifications yet");function E(){u(!1),c(null)}return r.a.createElement(n.Fragment,null,r.a.createElement(ge.a,{title:"notifications"},r.a.createElement(we.a,{onClick:function(e){u(!0),c(e.currentTarget)}},e)),r.a.createElement(Ie.a,{anchorEl:i,open:m,onClose:E,onEntered:function(){var e,t=d.filter((function(e){return!e.read})).map((function(e){return e.notificationId}));p((e=t,function(t){h.a.post("/notifications",e).then((function(e){t({type:"MARK_NOTIFICATIONS_READ"})})).catch((function(e){return console.log(e)}))}))}},g))},We=a(201),De=a(202),Fe=Object(W.a)({signupButton:{background:"linear-gradient(45deg, #FE6B8B 30%, #ff4081 90%)",margin:"0 0 0 5px",color:"white"},button:{textTransform:"none",margin:"0 10px"},profileImage:{width:50,height:50,objectFit:"cover",maxWidth:"100%",borderRadius:"50%",marginLeft:"10px",cursor:"pointer"},buttonContainer:{display:"flex",margin:"auto"}});var ke=function(){var e=Fe(),t=Object(n.useState)(null),a=Object(te.a)(t,2),i=a[0],c=a[1],s=Object(n.useState)(!1),m=Object(te.a)(s,2),u=m[0],d=m[1],p=Object(b.c)((function(e){return e.user})),f=p.authenticated,g=p.credentials,h=Object(b.b)(),E=Object(l.g)();function v(){d(!1),c(null)}return r.a.createElement(We.a,{elevation:1},r.a.createElement(De.a,null,r.a.createElement("div",{className:e.buttonContainer},r.a.createElement(z.a,{className:e.button,color:"inherit",component:o.b,to:"/"},"Home"),r.a.createElement(z.a,{className:e.button,color:"inherit",component:o.b,to:"/listings"},"Find a listing"),f?r.a.createElement(z.a,{className:e.signupButton,color:"primary",component:o.b,to:"/listings/new"},"Create Listing"):r.a.createElement("div",null)),r.a.createElement("div",{className:e.buttonContainer},f?r.a.createElement(n.Fragment,null,r.a.createElement(_e,null),r.a.createElement("img",{src:g.imageUrl,alt:"profile",className:e.profileImage,onClick:function(e){d(!0),c(e.currentTarget)}}),r.a.createElement(Ie.a,{id:"simple-menu",anchorEl:i,open:u,onClose:v},r.a.createElement(Ce.a,{onClick:v},"View Profile"),r.a.createElement(Ce.a,{onClick:v,component:o.b,to:"/profile"},"Settings"),r.a.createElement(Ce.a,{onClick:function(){v(),h(I(E))}},"Logout"))):r.a.createElement(n.Fragment,null,r.a.createElement(z.a,{className:e.button,color:"inherit",component:o.b,to:"/login"},"Log in"),r.a.createElement(z.a,{variant:"contained",className:e.signupButton,component:o.b,to:"/signup"},"Sign up")))))},Ue=a(2);var Be=function(e){var t=e.component,a=Object(Ue.a)(e,["component"]),n=Object(b.c)((function(e){return e.user})).authenticated;return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return!0===n?r.a.createElement(l.a,{to:"/"}):r.a.createElement(t,e)}}))};var Pe=function(e){var t=e.component,a=Object(Ue.a)(e,["component"]),n=Object(b.c)((function(e){return e.user})).authenticated;return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return!0===n?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}}))},Ge=d()({palette:{primary:{main:"#ffffff"},secondary:{main:"#ff4081"}},spreadThis:{formContainer:{textAlign:"center",width:"400px",margin:"0 auto 0 auto"},title:{color:"#484848"},textField:{margin:"10px 0 10px 0"},button:{marginTop:"20px"},signup:{marginTop:"20px",color:"black"},errorMessage:{color:"red",marginTop:"10px"},hr:{border:"0.5px solid #dddddd"},nunitoLight:{fontFamily:"Nunito Sans, sans-serif",fontWeight:"300"}}}),He=Object(s.a)();h.a.defaults.baseURL="https://europe-west1-commissionalpaca.cloudfunctions.net/api";var Je=localStorage.getItem("FBIdToken");Je&&(1e3*f()(Je).exp<Date.now()?(w.dispatch(I(He)),He.push("/login")):(w.dispatch({type:"SET_AUTHENTICATED"}),h.a.defaults.headers.common.Authorization=Je,w.dispatch(C())));var qe=function(){return r.a.createElement(m.a,{theme:Ge},r.a.createElement(b.a,{store:w},r.a.createElement(o.a,{history:He,basename:"/commission-app"},r.a.createElement(ke,null),r.a.createElement("div",{className:"container"},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:ee}),r.a.createElement(Be,{exact:!0,path:"/login",component:ie}),r.a.createElement(Be,{exact:!0,path:"/signup",component:re}),r.a.createElement(Pe,{exact:!0,path:"/profile",component:ve}),r.a.createElement(Pe,{exact:!0,path:"/listings/new",component:Oe}),r.a.createElement(l.b,{exact:!0,path:"/listings",component:de}),r.a.createElement(l.b,{exact:!0,path:"/listings/:id",component:fe}),r.a.createElement(Pe,{exact:!0,path:"/projects/new/:id",component:ye}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[106,1,2]]]);
//# sourceMappingURL=main.20c703fd.chunk.js.map